// ===========================
// Rook "Saucer" Settings
// ===========================
#include Common.txt
BaseName = Saucer
RookStateController = RookTitanSaucer
// ===============
// General
// ===============
HullMaxStrength = 1400
//RespawnCreditsCost = 5000		// - credits that must be paid before respawn animation will start

//FuelCapacity = 10
//Fuel_OnStart = 10
//FuelConsumption = 0.35						// - units of fuel used per second of full thrust
//FuelConsumptionRobotScalar = 0.15			// - scalar to fuel consumption for robot mode
//FuelRegenOnGroundNoMoveOrFire = 1.5						// - fuel regeneration rate when on the ground - per second

TransportHPCapacity = 2100

RespawnAnimSpeed = 0.7			// - base speed of the respawn animation (modified by pilot bonus)
//RespawnTimer = 1.5				// - number of second to respawn at base after we've been destroyed (was 1 second)

GndProjDPS = 235				// - how much damage our weapon does per second (in robot mode)
AirProjDPS = 360				// - how much damage our weapon does per second (in air mode)
WeaponType = 60
SpecialWeaponType = 90
//GlideForceMult = "7.25 1.6 0.25 0.4"  // start speed, end speed, lerp time, total time

ArmorType = 75

// Translation
ShipLinearDamping = 5.8
AirThrustMultWhenFiring = 0.7
AirMoveForceMultWhenNoFuel = 0.6
TransportLinearDamping = 9.8 // Transport is the flying mode while carrying a unit. This makes you fly slower and use more fuel.
RobotLinearDamping = 12.0
//TransportLinearDampCalcNominalHP = 790
TransportLinearDampBase = 6.3

DefaultUberPowerup = "UberDeathray 45"

//AirMissileShootDownChance = 0.2

// ===============
// Visual Elements
// ===============
//
GndMesh = rooks/Saucer/Saucer_Ref.amf
AirMechMaterials = "" //mat_AirMechSaucer
AirMechModelMats = AirMechSaucer
GndMaterialAlt = ""		// alternate material for robot mode
GndModelMatAlt = ""

BoneRefPairs = AuraRoot, bone_root, AuraRootGnd, bone_root, AuraShoulderL, bone_shell_1, AuraShoulderR, bone_shell_2

RespawnMesh = rooks/Saucer/SaucerRespawn.amf
RespawnAnimation = rooks/Saucer/SaucerRespawn.aaf

AirMesh = rooks/Saucer/SaucerAir.amf

TransportBoneLatch = bone_outer
TransportMesh = rooks/Saucer/SaucerAirTransport.amf		// mesh of attachment to normal mesh for carrying units
TransportMaterial = mat_AirMechSaucer

HoverAnimation = rooks/Saucer/Hover.aaf
HoverAnimationSpeed = 0.5

// ============
// HAT STUFF
// ============
//
//
HatBone = bone_hat
HatOffset = "0 0 0"

HatHeadBone = bone_hat
HatHeadBoneScaled = ""
HatHeadOffset = "0 0.13 0.3"

// ========================
// Movement (Vehicle - Air)
// ========================
//
// Rotation
ShipMaxRotThrust = 20			// - max degrees per second the ship can turn (not physics based)
ShipMaxRotTorque  = 1000000		// - max rotational torque for the fine control thrusters (physics based)
RobotMaxRotTorque = 0			// - max rotational torque when in robot mode (controls robot mode rotation speed)
RobotMaxRotTorqueTurnOnlyMode = 266000
ShipAngularDamping = 35.0

ShipBankingAngleSlewDown = 0.22		// - banking angle slew rate to use when target angle is decreasing
ShipBankingAngleSlewUp = 0.22		// - banking angle slew rate to use when target angle is increasing
ShipBankingAngleClipAbsMax = 40.0	// - max banking angle (negative and positive) the engine will clip to

AimMaxTilt = 30.0		// - max tilt in degrees for rooks using this movement style

// by default, pitch are roll are split based on facing.  Additional scalars here to make this work better for particular units
AimPitchMult = 0.6
AimRollMult = 1.0

//

AnimSpeedToRobot = 1.0		// was 1.0 - this is now set in seconds, and the code will compute the speed based on animation length (anim len 1.0)
AnimSpeedToAir = 0.7		// was 1.42 - this is now set in seconds, and the code will compute the speed based on animation length (anim len 1.0)



//===============
// Animations
//===============
AirToGroundAnim = rooks/Saucer/Saucer_ToBot.aaf
GroundToAirAnim = rooks/Saucer/Saucer_ToAir.aaf

GroundIdleAnim = rooks/Saucer/Saucer_Idle.aaf

GroundMoveCycleAnim_Fwd = rooks/Saucer/Saucer_Walk_F.aaf
GroundMoveCycleAnim_Back = rooks/Saucer/Saucer_Walk_B.aaf
GroundMoveCycleAnim_Left = rooks/Saucer/Saucer_Walk_L.aaf
GroundMoveCycleAnim_Right = rooks/Saucer/Saucer_Walk_R.aaf

GroundMoveCycleAnimSpeedMult = 0.21
GroundMoveBackCycleAnimSpeedMult = 0.21

Aiming360 = 1
UpperBodyAimBone = bone_aim

// =========================
// Movement (Robot - Ground)
// =========================
//

// ============
// Weapon Stuff
// ============
//

GndProjFireRate = 8			// - fire rate - in robot mode - rounds per second
AirProjFireRate = 8			// - fire rate - in air mode - rounds per second
AirProjFirePoint1 = "0.5 1 -0.2"		// - weapon fire point 1 (cycles between 1 and 2)
AirProjFirePoint2 = "-0.5 1 -0.2"		//
GndProjFireBone1 = "bone_flash_L"
GndProjFireOffset1 = "0.0 0.0 0.0"
GndProjFireBone2 = "bone_flash_R"
GndProjFireOffset2 = "0.0 0.0 0.0"


// =======================
// Wingtip Particle System
// =======================
//
//
WingtipPointBone1 = "bone_contrail_1"
WingtipPoint1 = "0 0 0"
WingtipPointBone2 = "bone_contrail_2"
WingtipPoint2 = "0 0 0"
WingtipPointBone3 = "bone_contrail_3"
WingtipPoint3 = "0 0 0"
WingtipPointBone4 = "bone_contrail_4"
WingtipPoint3 = "0 0 0"
WingtipParticles1 = Contrails
WingtipParticles2 = Contrails
WingtipParticles3 = Contrails
WingtipParticles4 = Contrails

ContrailMultipleCfg = "-0.12 -0.2 0"	// multiple contrail config magic numbers:
									// YAxis Step, Offset Mult, Unused


// =======================
// Wing Fold System
// =======================
//
//
WingBone1 = ""
WingBone2 = ""
WingBone3 = ""
WingBoneRotationMax1 = 0.0
WingBoneRotationMax2 = 0.0
WingBoneRotationMax3 = 0.0
WingFoldSpeedMin = 12
WingFoldSpeedMax = 28
WingFoldSlewRate = 0.2
WingFoldSlewRateReduce = 1.1		// - the slew rate on reduce (slowing down)

// =============================================
// connection points for recharge lines of POWER
// =============================================
//
//
RechargeBones = bone_chargepoint1, bone_chargepoint2, bone_chargepoint3, bone_chargepoint4

// ==================
// Particle Effects
// ==================
//
EngineThrustParticles = ShipThrustersSaucer
Engine1ThrustPosByBone = bone_root
Engine2ThrustPosByBone = ""
Engine1ThrustPosOffset = "0.0 -0.95 0.05"			// - local point location of first engine - engine locations are used for particle effects
Engine2ThrustPosOffset =  "0 0 0"
Engine1ThrustPosOffsetPhysics = "0 -0.67 0"			// - local point location of first engine - engine locations are used for physics effects
Engine2ThrustPosOffsetPhysics = "0 0 0"			// - local point location of second engine (set to 0,0,0 for no second engine)
Engine1ThrustDirection = "0 -1 0"			// - direction of engine thrust, ship relative for first main engine - will be normalized
Engine2ThrustDirection = "0 0 0"			// - direction of engine thrust, ship relative for first main engine - will be normalized


// ===========================
// Destruction Spawners
// ===========================
// : 'count' 'size'  'linearDamping'  'lifespanBase' 'lifespanRand'   'velocitybase' 'velocityrand'  'particle' 'particle' ... /Tag:Val
// : valid Tags: dcl, dch
//
DestructionEffects = "4 1.2 0  30 5   6 4  SmallSmoke ExplosionFire FireBurn /dcl:shotGroundImpacts /dch:80 /mdl:rooks/Saucer/SaucerDxOuter.amf /mtl:mat_AirMechSaucerDx /bne:bone_root /emt:H /trq:-50 /grp:DebrisM /col [Group DebrisM Box 0.4 0.8 0.25] /mas:10" "4 1 0  30 5   6 4  SmallSmoke ExplosionFire FireBurn /dcl:shotGroundImpacts /dch:80 /mdl:rooks/Saucer/SaucerDxInner.amf /mtl:mat_AirMechSaucerDx /bne:bone_root /emt:H /trq:-50 /grp:DebrisM /col [Group DebrisM Box 0.4 0.8 0.25] /mas:10" "1 1 0  30 5   6 4  SmallSmoke ExplosionFire FireBurn /dcl:shotGroundImpacts /dch:80 /mdl:rooks/Saucer/SaucerDxMiddle.amf /mtl:mat_AirMechSaucerDx /bne:bone_root /emt:H /trq:-50 /grp:DebrisM /col [Group DebrisM Box 0.4 0.8 0.25] /mas:10 /vcb:100" "4 0.2 0    1 1   0 0.2   BlackSmoke" "1 0.2 0    0.5 0  0 0 	ExplosionSeq ExplosionSeq3" "14 0.1 0   0.2 0.3  40 4  PolyTrail /reqVis /nocol" "1 0.2 0  0.4 0  0 0 BrightFlare" "12 1 0  2.4 2  2 10  /mdl:units/ArmoredCar/ArmoredCarDxGlass.amf /reqVis /nocol /mtl:mat_ArmoredCar /trq:-10 /wgl:1000 /col [Sphere 0.1]"
GndDestructionEffects = "2 1 0  10 5   6 4  SmallSmoke ExplosionFire FireBurn /dcl:shotGroundImpacts /dch:80 /mdl:rooks/Saucer/SaucerRobotDxSide.amf /mtl:mat_AirMechSaucerDx /bne:bone_root /emt:H /trq:-50 /grp:DebrisM /col [Group DebrisM Box 0.8 0.8 0.25] /mas:10" "1 1.2 0  10 5   6 4  SmallSmoke ExplosionFire FireBurn /dcl:shotGroundImpacts /dch:80 /mdl:rooks/Saucer/SaucerRobotDxEye.amf /mtl:mat_AirMechSaucerDx /bne:bone_root /emt:H /trq:-50 /grp:DebrisM /col [Group DebrisM Sphere 0.3] /mas:10 /vcb:100 /reqVis" "4 1 0  10 5   6 4  SmallSmoke ExplosionFire FireBurn /dcl:shotGroundImpacts /dch:80 /mdl:rooks/Saucer/SaucerRobotDxLeg.amf /mtl:mat_AirMechSaucerDx /bne:bone_root /emt:H /trq:-50 /grp:DebrisM /col [Group DebrisM Box 0.4 0.8 0.25] /mas:10" "4 0.2 0    1 1   0 0.2   BlackSmoke" "5 1 1  0.5 3   0 0  AirMechPieces  /vcb:100 /reqVis" "1 0.2 0  0.5 0    0 0 ExplosionSeq3  /vcb:100 /reqVis" "1 0.2 0    0.5 0  0 0 ExpBlastRingSmall UnitPickupFromRook /reqVis" "14 0.1 0   0.2 0.3  40 4  PolyTrail /reqVis /nocol" "1 0.2 0  0.4 0  0 0 BrightFlare"


// ===================
// Saucer Audio
// ===================
//
AirRookDestroyedSounds = "DestroyAirMech02.wav"

ShipToRobotSounds = "mechs/MechSaucer_TransformGround.wav"
RobotToShipSounds = "mechs/MechSaucer_TransformAir.wav"

//AirAudioLoop1 = mechs/MechSaucerEngineLoopLow.wav		// - this is the middle pitch loop, apparently played while hovering.
AirAudioLoop1 = SaucerHover_rev.wav		// - this is the middle pitch loop, apparently played while hovering.
AirAudioLoop1_MinVol = 100
AirAudioLoop1_MaxVol = 0
AirAudioLoop1_MinFreq = 1.0
AirAudioLoop1_MaxFreq = 1.0
AirAudioLoop1_Input = 1				// - code: 'I' = stick input, number = ship speed, max speed value
AirAudioLoop1_SlewRate = 0.12			// - slew rate of input value

//AirAudioLoop2 = mechs/MechSaucerEngineLoop.wav		// - this is the low pitch loop
AirAudioLoop2 = SaucerFly_rev.wav		// - this is the low pitch loop
AirAudioLoop2_MinVol = -1 // cross fade hack
AirAudioLoop2_MaxVol = -1
AirAudioLoop2_MinFreq = 1.0
//AirAudioLoop2_MaxFreq = 1.12246			// +2 semitones
AirAudioLoop2_MaxFreq = 1.15
//AirAudioLoop2_MaxFreq = 1.2246			// higher maxFreq than other mechs, makes it sound a litle more exotic
AirAudioLoop2_Input = 22				// - code: 'I' = stick input, number = ship speed, max speed value
AirAudioLoop2_SlewRate = 0.08			// - slew rate of input value

// - sounds for steps order: Dirt, Concrete, Grass, Ice, Tundra
FootstepLeftSounds = MechSaucerStepLeft, MechSaucerStepLeft, MechSaucerStepLeft, MechSaucerStepLeft, MechSaucerStepLeft
FootstepRightSounds = MechSaucerStepRight, MechSaucerStepRight, MechSaucerStepRight, MechSaucerStepRight, MechSaucerStepRight

// ==============================================
// Rotating stuff
// - somewhat generalized, but initially created
// - for the chopper Rook "bone deg/sec"
// ==============================================
ZSpinDef_1 = "bone_blades	260.0"
ZSpinDef_2 = "bone_outer	-50.0"
ZSpinDef_3 = "bone_inner	90.0"
ZFixedBone = "bone_fixed"

// ==============================================
// Capture ability / special mode, on the Saucer
// ==============================================

AirSpecialMode = Blink
GndSpecialMode = Deathray
ActivatedAbilityAlt = UnitTP
//ActivatedAbility = DebufOffense

AbilityAirSpecialSlot=1
AbilityGndSpecialSlot=0

EnterSpecialModeWaitStateTimer = 0.05					// - wait state timer when entering special mode (no fire or move)
LeaveSpecialModeWaitStateTimer = 0.05					// - wait state timer when exiting special mode (no fire or move)
DoSpecialActionWaitStateTimer = 0.0						// - not used

// ========================================================
// Capture special settings.
// ========================================================

// ========================================================
// Shield special settings.
// ========================================================
ShieldFuelToMaintain = 0
ShieldSphere = "1.8 1.25 0"		// scale, zoffset, unused


// ==============================
// AirMech Abilities (Leveled Up)
// ==============================
//
Abilities=Deathray, Blink, Abduct, UnitTP //, Infantry, Guardian, LevelUp, DebufOffense
AbilityAIUpgradeOrder=0, 1, 2, 0, 1, 2, 3, 1

// these have issues at the moment
AbilityChargeUpStart = rooks/Saucer/Saucer_Special_Start.aaf
AbilityChargeUpLoop = rooks/Saucer/Saucer_Special_Cycle.aaf
//AbilityActiveSecondarySlot=7	// on saucer, this is DebufOffense
AbilityActiveSecondarySlotAlt=3  // on saucer, this is UnitTP

Taunts = rooks/Saucer/Saucer_Taunt.aaf
RecoveryAnim = rooks/Saucer/Saucer_Recover.aaf

GroundIdleAnimGlide =  rooks/Saucer/Saucer_Jump.aaf
GroundMoveCycleAnim_FwdGlide =  rooks/Saucer/Saucer_Jump_F.aaf
GroundMoveCycleAnim_BackGlide = rooks/Saucer/Saucer_Jump_B.aaf
GroundMoveCycleAnim_LeftGlide = rooks/Saucer/Saucer_Jump_L.aaf
GroundMoveCycleAnim_RightGlide = rooks/Saucer/Saucer_Jump_R.aaf

// JumpBoostContrails for jump/glide anims
//
RequiredSpeedForJumpBoostContrails = 1.0
JumpBoostContrailsBone1 = "bone_leg_B_R_3"
JumpBoostContrailsOffset1 = "0 0 0"
JumpBoostContrailsBone2 = "bone_leg_B_L_3"
JumpBoostContrailsOffset2 = "0 0 0"
JumpBoostContrailsBone3 = "bone_deathclaw_2__nx_"
JumpBoostContrailsOffset3 = "0 0 0"
JumpBoostContrailsBone4 = "bone_deathclaw_4__nx_"
JumpBoostContrailsOffset4 = "0 0 0"
JumpBoostContrailsPfx1 = "ContrailsJump"
JumpBoostContrailsPfx2 = "ContrailsJump"
JumpBoostContrailsPfx3 = "ContrailsJump"
JumpBoostContrailsPfx4 = "ContrailsJump"

// ==============================
// Attachments
// ==============================
// BannerFlagAttachment = "factions/Banner02.amf FactionEmblem< bone_inner /ragdoll factions/banner01.txt /offset -0.5 0 0 /rotate 0 -15 90"
