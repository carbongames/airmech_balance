// ===========================
// Rook "Warthog" Settings
// ===========================
#include Common.txt
BaseName = Warthog
RookStateController = RookTitanWarthog

// ===============
// General
// ===============
HullMaxStrength = 1800
//RespawnCreditsCost = 4500

//FuelCapacity = 10
//Fuel_OnStart = 10
//FuelConsumption = 0.55
//FuelConsumptionRobotScalar = 0.15			// - scalar to fuel consumption for robot mode
//FuelRegenOnGroundNoMoveOrFire = 1.7						// - fuel regeneration rate when on the ground - per second
FuelUseWhenFiringGnd = 4.0	// !DONT TOUCHY! Tank to Ken! balance issue - only apply on frames when shot fired...  
FuelUseWhenFiringAir = 1.5

GndProjParticlesFAF = TracerAirMechWarthogGnd		// - particle system to use for the shot projectile - air mode (fire and forget style)
AirProjParticlesFAF = TracerAirMechWarthog		// - particle system to use for the shot projectile - air mode (fire and forget style)

TransportHPCapacity = 2500
//TransportLinearDampCalcNominalHP = 820

RespawnAnimSpeed = 0.7			// - base speed of the respawn animation (modified by pilot bonus)
//RespawnTimer = 2.5				// - number of second to respawn at base after we've been destroyed (was 1 second)

GndProjDPS = 345				// - how much damage our weapon does per second (in robot mode)
AirProjDPS = 460				// - how much damage our weapon does per second (in air mode)

AirMechGndMultDPS = 0.85		// - multiplier to damage vs ground mode airmechs (global)

AirDmgIncreaseAtRange = 0.0 // at this ratio of range, damage increase for AIR attacks up to 'AirDmgIncreaseAtRangeMult'
AirDmgIncreaseAtRangeMult = 0.0 // 1.0 is a 100% increase at 0 range, reducing to 0 at above 'AirDmgIncreaseAtRange'.  0.2 would be 20% increase, etc

GndDmgIncreaseAtRange = 0.0 // at this ratio of range, damage increase for ground attacks up to 'GndDmgIncreaseAtRangeMult'
GndDmgIncreaseAtRangeMult = 0.0 // 1.0 is a 100% increase at 0 range, reducing to 0 at above 'GndDmgIncreaseAtRange'.  0.2 would be 20% increase, etc

// - for new warthog firing audio, 23 is half rate (of 46)
GndProjFireRate = 23			// - fire rate - in robot mode - rounds per second
AirProjFireRate = 23			// - fire rate - in air mode - rounds per second
WeaponType = 65

//GlideForceMult = "7.25 0.7 0.25 0.4"  // start speed, end speed, lerp time, total time
//GlideJump = "2.75 0.125 0.25 0.55" // jump height, raise time, down time, total time

ArmorType = 75


GndProjWiggle = 60
AirProjWiggle = 60

// Translation
ShipLinearDamping = 6.6
AirThrustMultWhenFiring = 0.5
GndThrustMultWhenFiring = 0.60
AirThrustMultWhenPreFiring = 0.75
GndThrustMultWhenPreFiring = 0.85
AirThrustMultWhenFiringAbilityBonus = 0.02		// - per point (spinup for warthog), capped at 1. (eg: 0.5 + 0.1*N)
GndThrustMultWhenFiringAbilityBonus = 0.02		// - as above, but for ground mode
TransportLinearDamping = 10.2 // Transport is the flying mode while carrying a unit. This makes you fly slower and use more fuel.
AirMoveForceMultWhenNoFuel = 0.8
RobotLinearDamping = 16.0
TransportLinearDampBase = 7.1

DefaultUberPowerup = "UberGuns 500"

// ============
// HAT STUFF
// ============
//
//
HatBoneScaled = "mesh_head_tip"
HatBone = "bone_head_base"

BoneRefPairs = AuraRoot, bone_root, AuraRootGnd, bone_canopy_f, AuraShoulderL, bone_shoulder_l, AuraShoulderR, bone_shoulder_r

// ===============
// Visual Elements
// ===============
//
AirMesh = rooks/Warthog/WarthogAir.amf
GndMesh = rooks/Warthog/WarthogRobot.amf
AirMechMaterials = mat_AirMechWarthog
AirMechModelMats = ""
GndMaterialAlt = ""		// alternate material for robot mode
GndModelMatAlt = ""

TransportMesh = rooks/FighterA/AirMechFighterTransport.amf		// mesh of attachment to normal mesh for carrying units
TransportMaterial = mat_AirMechTransport

RespawnMesh = rooks/Warthog/WarthogRespawn.amf
RespawnAnimation = rooks/Warthog/WarthogRespawn.aaf

AirToGroundAnim = rooks/Warthog/WarthogAirToGround.aaf
GroundToAirAnim = rooks/Warthog/WarthogGroundToAir.aaf
GroundIdleAnim = rooks/Warthog/GroundIdle.aaf
GroundMoveCycleAnim_Fwd = rooks/Warthog/WalkForward.aaf
GroundMoveCycleAnim_Back = rooks/Warthog/WalkForward.aaf
GroundMoveCycleAnim_Left = rooks/Warthog/WalkForward.aaf
GroundMoveCycleAnim_Right = rooks/Warthog/WalkForward.aaf

GroundMoveCycleAnimSpeedMult = 0.12
GroundMoveBackCycleAnimSpeedMult = 0.12

FiringAnimation = rooks/Warthog/WarthogFire.aaf

HoverAnimation = rooks/Warthog/WarthogHover.aaf

GndProjFireBone1 = "bone_gun_fp"
GndProjFireOffset1 = "0.0 0.325 0.0"
GndProjFireBone2 = "bone_gun_fp"
GndProjFireOffset2 = "0.0 0.325 0.0"

ProjParticlesFAFScalars = "1 1.5 1"	// sizex, sizey, unused - scalar multipliers

ZSpinDef_1 = ""
ZSpinDef_2 = ""
ZSpinDef_3 = ""
ZSpinDef_Sp = "mesh_barrel 	1500.0"		// on fire control
ZFixedBone = ""

PfxClearOnTransform = ShellCasings

GndProjMuzzleFlash = "MuzzleFlashTank"			// - muzzle flash particles - for robot mode
AirProjMuzzleFlash = "MuzzleFlashTank"		// - muzzle flash particles - for air mode
// ===============================================================
// Fire Control, driven by zspin rate on fire control zspindef (_Sp)
// ===============================================================
ZSpinDef_Sp_UpRate = 800.0
ZSpinDef_Sp_DownRate = 800.0
ZSpinDef_Sp_FireReq = 1000.0

// ========================
// Movement (Vehicle - Air)
// ========================
//
// Rotation
ShipMaxRotThrust = 220			// - max degrees per second the ship can turn (not physics based)
ShipMaxRotTorque  = 566000		// - max rotational torque for the fine control thrusters (physics based)
RobotMaxRotTorque = 0			// - max rotational torque when in robot mode (controls robot mode rotation speed)
RobotMaxRotTorqueTurnOnlyMode = 300000
ShipAngularDamping = 30.0

AimRollMult = 2.0		// multiplier on AimMaxTilt - for roll factor
ShipBankingAngleSlewDown = 0.1		// - banking angle slew rate to use when target angle is decreasing
ShipBankingAngleSlewUp = 0.2		// - banking angle slew rate to use when target angle is increasing
//ShipBankingAngleClipAbsMax = 70.0	// - max banking angle (negative and positive) the engine will clip to

// =========================
// Movement (Robot - Ground)
// =========================

// ============
// Weapon Stuff
// ============
//
AirProjFirePoint1 = "0 2.25 -0.25"		// - weapon fire point 1 (cycles between 1 and 2)
AirProjFirePoint2 = "0 2.25 -0.25"

AirFiringAnimations = ""

AirProjImpactParticles = ExplosionDustWarthog, WarthogExplosionPieces, BulletSparkLarge, ExplosionSeq3Warthog
GndProjImpactParticles = ExplosionDustWarthog, WarthogExplosionPieces, BulletSparkLarge, ExplosionSeq3Warthog

// ===========================
// Destruction Spawners
// ===========================
// : 'count' 'size'  'linearDamping'  'lifespanBase' 'lifespanRand'   'velocitybase' 'velocityrand'  'particle' 'particle' ... /Tag:Val
// : valid Tags: dcl, dch
//
DestructionEffects = "1 1 0  30 5   6 4  SmallSmoke ExplosionFire FireBurn /dcl:shotGroundImpacts /dch:80 /mdl:rooks/Warthog/WarthogDxWing_r.amf /mtl:mat_AirMechWarthogDx /bne:bone_root /emt:H /trq:-50 /grp:DebrisM /col [Group DebrisM Box 0.8 0.8 0.25] /mas:10" "1 1 0  30 5   6 4  SmallSmoke ExplosionFire FireBurn /dcl:shotGroundImpacts /dch:80 /mdl:rooks/Warthog/WarthogDxWing_l.amf /mtl:mat_AirMechWarthogDx /bne:bone_root /emt:H /trq:-50 /grp:DebrisM /col [Group DebrisM Box 0.8 0.8 0.25] /mas:10" "1 1 0  30 5   6 4  SmallSmoke ExplosionFire FireBurn /dcl:shotGroundImpacts /dch:80 /mdl:rooks/Warthog/WarthogDxMiddle.amf /mtl:mat_AirMechWarthogDx /bne:bone_root /emt:H /trq:-50 /grp:DebrisM /col [Group DebrisM Box 0.4 0.4 0.25] /mas:10" "1 1 0  30 5   6 4  SmallSmoke ExplosionFire FireBurn /dcl:shotGroundImpacts /dch:80 /mdl:rooks/Warthog/WarthogDxCockpit.amf /mtl:mat_AirMechWarthogDx /bne:bone_root /emt:H /trq:-50 /grp:DebrisM /col [Group DebrisM Box 0.4 0.8 0.25] /mas:10 /vcb:100" "2 1 0  30 5   6 4  SmallSmoke ExplosionFire FireBurn /dcl:shotGroundImpacts /dch:80 /mdl:rooks/Warthog/WarthogDxEngine.amf /mtl:mat_AirMechWarthogDx /bne:bone_root /emt:H /trq:-50 /grp:DebrisM /col [Group DebrisM Box 0.2 0.6 0.25] /mas:10" "2 1 0  30 5   6 4  SmallSmoke ExplosionFire FireBurn /dcl:shotGroundImpacts /dch:80 /mdl:rooks/Warthog/WarthogDxTail.amf /mtl:mat_AirMechWarthogDx /bne:bone_root /emt:H /trq:-50 /grp:DebrisM /col [Group DebrisM Box 0.4 0.8 0.25] /mas:10" "4 0.2 0    1 1   0 0.2   BlackSmoke" "1 0.2 0    0.5 0  0 0 	ExplosionSeq ExplosionSeq3" "14 0.1 0   0.2 0.3  40 4  PolyTrail /reqVis /nocol" "1 0.2 0  0.4 0  0 0 BrightFlare" "12 1 0.5  2.4 2  2 10  /mdl:units/ArmoredCar/ArmoredCarDxGlass.amf /reqVis /nocol /mtl:mat_ArmoredCar /trq:-10 /wgl:1000 /col [Sphere 0.1]"
GndDestructionEffects = "2 1 0  10 5   6 4  SmallSmoke ExplosionFire FireBurn /dcl:shotGroundImpacts /dch:80 /mdl:rooks/WarthogV2/WarthogRobotDxShoulder.amf /mtl:mat_AirMechWarthogDx /bne:bone_root /emt:H /trq:-50 /grp:DebrisM /col [Group DebrisM Box 0.8 0.8 0.25] /mas:10" "1 1 0  10 5   6 4  SmallSmoke ExplosionFire FireBurn /dcl:shotGroundImpacts /dch:80 /mdl:rooks/WarthogV2/WarthogRobotDxGun.amf /mtl:mat_AirMechWarthogDx /bne:bone_root /emt:H /trq:-50 /grp:DebrisM /col [Group DebrisM Box 0.4 0.2 0.25] /mas:10" "1 1.2 1  10 5   6 4  SmallSmoke ExplosionFire FireBurn /dcl:shotGroundImpacts /dch:80 /mdl:rooks/WarthogV2/WarthogRobotDxHead.amf /mtl:mat_AirMechWarthogDx /bne:bone_root /emt:H /trq:-50 /grp:DebrisM /col [Group DebrisM Sphere 0.3] /mas:10 /vcb:100 /reqVis" "2 1 0  10 5   6 4  SmallSmoke ExplosionFire FireBurn /dcl:shotGroundImpacts /dch:80 /mdl:rooks/WarthogV2/WarthogRobotDxLeg.amf /mtl:mat_AirMechWarthogDx /bne:bone_root /emt:H /trq:-50 /grp:DebrisM /col [Group DebrisM Box 0.4 0.8 0.25] /mas:10" "2 1 0  10 5   6 4  SmallSmoke ExplosionFire FireBurn /dcl:shotGroundImpacts /dch:80 /mdl:rooks/WarthogV2/WarthogRobotDxArm.amf /mtl:mat_AirMechWarthogDx /bne:bone_root /emt:H /trq:-50 /grp:DebrisM /col [Group DebrisM Box 0.4 0.8 0.25]" "2 1 0  10 5   6 4  SmallSmoke ExplosionFire FireBurn /dcl:shotGroundImpacts /dch:80 /mdl:rooks/WarthogV2/WarthogRobotDxFoot.amf /mtl:mat_AirMechWarthogDx /bne:bone_root /emt:H /trq:-50 /grp:DebrisM /col [Group DebrisM Box 0.4 0.8 0.25]" "4 0.2 0    1 1   0 0.2   BlackSmoke" "5 1 1  0.5 3   0 0  AirMechPieces  /vcb:100 /reqVis" "1 0.2 0  0.5 0    0 0 ExplosionSeq3  /vcb:100 /reqVis" "1 0.2 0    0.5 0  0 0 ExpBlastRingSmall UnitPickupFromRook /reqVis" "14 0.1 0   0.2 0.3  40 4  PolyTrail /reqVis /nocol" "1 0.2 0  0.4 0  0 0 BrightFlare"

// =======================
// Wingtip Particle System
// =======================
//
//
WingtipPoint1				"-1.45 -0.68 0.05"			// - maybe this should take a bone instead? or a bone as an optional property?
WingtipPointBone1			"bone_wingtip_l"
WingtipPoint2				"1.45 -0.68 0.05"
WingtipPointBone2			"bone_wingtip_r"
//WingtipPoint3				"-0.65 -0.98 0.65"
//WingtipPoint4				"0.65 -0.98  0.65 "
WingtipParticles1			Contrails
WingtipParticles2			Contrails

//RequiredSpeedForGroundContrails = 2.0
GroundContrailsBone1 = "bone_wing_r"
GroundContrailsOffset1 = "1.26 0 -0.16"
GroundContrailsBone2 = "bone_wing_l"
GroundContrailsOffset2 = "-1.26 0 0.1"
GroundContrailsBone3 = ""
GroundContrailsOffset3 = "0 0 0"
GroundContrailsBone4 = ""
GroundContrailsOffset4 = "0 0 0"
GroundContrailsPfx1 = ""
GroundContrailsPfx2 = ""
GroundContrailsPfx3 = ""
GroundContrailsPfx4 = ""

// =======================
// Wing Fold System
// =======================
//
//
WingBone1 = "mesh_engines"
WingBone2 = ""
WingBone3 = ""
WingBoneRotationMax1 = -90.0
WingBoneRotationMax2 = 0.0
WingBoneRotationMax3 = 0.0
WingFoldSpeedMin = 5
WingFoldSpeedMax = 18
WingFoldSlewRate = 0.1
WingFoldSlewRateReduce = 0.05		// - the slew rate on reduce (slowing down)
//WingFoldOrientationDependency = "0.97 0.02 0"  // dot for max, dot for min, unused

// =============================================
// connection points for recharge lines of POWER
// =============================================
//
RechargeBones = bone_wingtip_l, bone_wingtip_r, bone_root, bone_r_booster, bone_nose

// ==================
// Particle Effects
// ==================
//
EngineThrustParticles = ShipThrustersMin
Engine1ThrustPosByBone = bone_thruster_r
Engine2ThrustPosByBone = bone_thruster_l
Engine1ThrustPosOffset = "0.0 -0.95 0.05"			// - local point location of first engine - engine locations are used for particle effects
Engine2ThrustPosOffset =  "0.0 -0.95 0.05"
Engine1ThrustPosOffsetPhysics = "0 -0.67 0"			// - local point location of first engine - engine locations are used for physics effects
Engine2ThrustPosOffsetPhysics = "0 -0.67 0"			// - local point location of second engine (set to 0,0,0 for no second engine)
Engine1ThrustDirection = "0 -1 0"			// - direction of engine thrust, ship relative for first main engine - will be normalized
Engine2ThrustDirection = "0 -1 0"			// - direction of engine thrust, ship relative for first main engine - will be normalized


// ===================
// JetNeo Audio
// ===================
//

AirAudioLoop1 = WarthogHover.wav
AirAudioLoop1_MinVol = 100
AirAudioLoop1_MaxVol = 0
AirAudioLoop1_MinFreq = 1.0
AirAudioLoop1_MaxFreq = 1.1
AirAudioLoop1_Input = 1				// - code: 'I' = stick input, number = ship speed, max speed value
AirAudioLoop1_SlewRate =  0.12			// - slew rate of input value

AirAudioLoop2 = WarthogFly.wav
AirAudioLoop2_MinVol = -1 // cross fade hack
AirAudioLoop2_MaxVol = -1
AirAudioLoop2_MinFreq = 1.0
AirAudioLoop2_MaxFreq = 1.12246			// +2 semitones
AirAudioLoop2_Input = 20				// - code: 'I' = stick input, number = ship speed, max speed value
AirAudioLoop2_SlewRate = 0.08			// - slew rate of input value

// =====================================================
// Stealth ability / special mode, on the Stealth Bomber
// =====================================================

AirSpecialMode = Gunspray
GndSpecialMode = Melee
ActivatedAbility = PwrShield
EnterSpecialModeWaitStateTimer = 0.15					// - wait state timer when entering special mode (no fire or move)
LeaveSpecialModeWaitStateTimer = 0.15					// - wait state timer when exiting special mode (no fire or move)
DoSpecialActionWaitStateTimer = 0.0						// - not used

// ========================================================
// Shield special settings.
// ========================================================
ShieldFuelToMaintain = 0.1
ShieldSphere = "1.8 1.25 0"		// scale, zoffset, unused
ShieldDamageSoak = 0.5
ShieldEnergySoak = 0.1

// ==============================
// AirMech Abilities (Leveled Up)
// ==============================
//
Abilities=Gunspray, SpinUp, Guns, PwrShield //, Infantry, Guardian, LevelUp, Ammo
AbilityAirSpecialSlot=0
AbilityGndSpecialSlot=0
AbilityPassiveSlot=1
AbilityPassive2Slot=2
AbilityPassive3Slot=7
AbilityActiveSecondarySlot=3
AbilityAIUpgradeOrder=1, 0, 2, 0, 1, 2, 3, 0  // individual points order, afterwhich, original logic takes over

// ==============================
// Attachments
// ==============================
// BannerFlagAttachment = "factions/Banner02.amf FactionEmblem< bone_chest /ragdoll factions/banner01.txt /offset 0 0 0.5 /rotate 45 0 0"
